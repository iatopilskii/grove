{
  "project": "Go Git Worktree TUI",
  "methodology": {
    "approach": "TDD",
    "workflow": [
      "Write failing test first",
      "Implement minimal code to pass test",
      "Refactor while keeping tests green",
      "Repeat for next requirement"
    ],
    "test_requirements": {
      "unit_tests": "Required for all business logic",
      "integration_tests": "Required for git operations",
      "ui_tests": "Use bubbletea test helpers for Model testing"
    }
  },
  "agent_config": {
    "skill": "golang-pro",
    "instructions": "Use golang-pro skill for all Go implementation tasks. Apply Go best practices for concurrency, error handling, and idiomatic patterns."
  },
  "requirements": [
    {
      "id": "UI-001",
      "category": "UI Framework",
      "description": "Application uses BubbleTea framework with Elm architecture (Model, Update, View pattern)",
      "steps_to_verify": [
        "main.go initializes bubbletea.Program",
        "App struct implements tea.Model interface",
        "Init(), Update(), View() methods exist",
        "App compiles without errors"
      ],
      "passes": true
    },
    {
      "id": "UI-002",
      "category": "UI Layout",
      "description": "Tabbed navigation bar at top with at least 3 tabs: Worktrees, Branches, Settings",
      "steps_to_verify": [
        "Tab bar renders at top of screen",
        "Tab/Shift+Tab cycles through tabs",
        "Active tab is visually highlighted",
        "Content area updates when tab changes"
      ],
      "passes": true
    },
    {
      "id": "UI-003",
      "category": "UI Layout",
      "description": "Two-pane layout: list view (top/left) and details view (bottom/right)",
      "steps_to_verify": [
        "List pane shows scrollable items",
        "Details pane shows info for selected item",
        "Selection in list updates details pane",
        "Both panes render within terminal bounds"
      ],
      "passes": true
    },
    {
      "id": "NAV-001",
      "category": "Navigation",
      "description": "Arrow key navigation in list views",
      "steps_to_verify": [
        "Up/Down arrows move selection cursor",
        "Selection wraps or stops at boundaries",
        "Current selection is visually distinct",
        "Page Up/Down scroll by page"
      ],
      "passes": true
    },
    {
      "id": "NAV-002",
      "category": "Navigation",
      "description": "Mouse support for selection and scrolling",
      "steps_to_verify": [
        "Click on list item selects it",
        "Mouse scroll works in list and details panes",
        "Click on tab switches to that tab",
        "No crash on mouse events outside bounds"
      ],
      "passes": true
    },
    {
      "id": "NAV-003",
      "category": "Navigation",
      "description": "Enter key triggers action on selected item",
      "steps_to_verify": [
        "Enter on worktree opens action menu or executes default action",
        "Action feedback shown (success/error message)",
        "Escape cancels action dialogs"
      ],
      "passes": true
    },
    {
      "id": "STYLE-001",
      "category": "Styling",
      "description": "Adaptive color scheme detects terminal light/dark mode",
      "steps_to_verify": [
        "App uses lipgloss.AdaptiveColor for all colors",
        "Light terminal shows dark text on light background",
        "Dark terminal shows light text on dark background",
        "No hardcoded ANSI color codes"
      ],
      "passes": true
    },
    {
      "id": "STYLE-002",
      "category": "Styling",
      "description": "Minimal and clean visual design",
      "steps_to_verify": [
        "Borders are thin (single-line box drawing)",
        "No excessive decorations or ASCII art",
        "Consistent padding/margins",
        "Focus indicator is subtle but visible"
      ],
      "passes": true
    },
    {
      "id": "STYLE-003",
      "category": "Styling",
      "description": "User-configurable theme via config file",
      "steps_to_verify": [
        "Config file (~/.config/<app>/theme.yaml or similar) is read on startup",
        "Colors defined in config override defaults",
        "Invalid config values fall back to defaults",
        "Sample config documented or generated"
      ],
      "passes": true
    },
    {
      "id": "GIT-001",
      "category": "Git Worktrees",
      "description": "List all git worktrees in current repository",
      "steps_to_verify": [
        "Running in git repo shows all worktrees",
        "Each worktree shows: name, path, branch",
        "Worktree list updates after create/delete",
        "Error shown if not in git repo"
      ],
      "passes": true
    },
    {
      "id": "GIT-002",
      "category": "Git Worktrees",
      "description": "Create new worktree from existing or new branch",
      "steps_to_verify": [
        "User can input branch name and path",
        "Worktree created via git worktree add",
        "New worktree appears in list after creation",
        "Error shown if branch/path invalid"
      ],
      "passes": true
    },
    {
      "id": "GIT-003",
      "category": "Git Worktrees",
      "description": "Delete/remove worktree",
      "steps_to_verify": [
        "Confirmation prompt before delete",
        "Worktree removed via git worktree remove",
        "Worktree disappears from list after removal",
        "Error shown if worktree has uncommitted changes (or force option)"
      ],
      "passes": true
    },
    {
      "id": "GIT-004",
      "category": "Git Worktrees",
      "description": "Prune stale worktrees",
      "steps_to_verify": [
        "Prune option available in UI",
        "Runs git worktree prune",
        "Stale entries removed from list",
        "Feedback message shown after prune"
      ],
      "passes": true
    },
    {
      "id": "GIT-005",
      "category": "Git Worktrees",
      "description": "Show worktree details: path, branch, status",
      "steps_to_verify": [
        "Details pane shows full path",
        "Details pane shows branch name",
        "Details pane shows modified/staged file count",
        "Details update when selection changes"
      ],
      "passes": true
    },
    {
      "id": "GIT-006",
      "category": "Git Worktrees",
      "description": "Switch to worktree (open in terminal or change directory)",
      "steps_to_verify": [
        "Action to 'switch' or 'open' worktree exists",
        "Opens new terminal/shell at worktree path OR prints cd command",
        "User ends up in correct directory",
        "Works with common terminal emulators"
      ],
      "passes": false
    },
    {
      "id": "CONFIG-001",
      "category": "Configuration",
      "description": "Application reads config from standard location",
      "steps_to_verify": [
        "Checks ~/.config/<app>/config.yaml (XDG compliant)",
        "Falls back to defaults if no config exists",
        "Config parsing errors shown gracefully",
        "Config reload or restart applies changes"
      ],
      "passes": false
    },
    {
      "id": "BUILD-001",
      "category": "Build & Run",
      "description": "Project builds with standard Go toolchain",
      "steps_to_verify": [
        "go build ./cmd/... succeeds",
        "go mod tidy produces no changes",
        "Binary runs without runtime errors",
        "Builds on Linux, macOS, Windows"
      ],
      "passes": false
    }
  ]
}
